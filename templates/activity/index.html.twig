{% extends 'base.html.twig' %}

{% block title %}Liste de mes activités{% endblock %}

{% block body %}
    <h2>Liste de mes activités</h2>
    {# {% for activity in activity_list %}
        <div id="{{ activity.id }}">
            <h3>{{ activity.title }}</h3>
            {% if activity.stoppedAt %}
                <span>{{ activity.startedAt|date('H:i:s d-m-Y') }} - {{ activity.stoppedAt|date('H:i:s d-m-Y') }}</span>
            {% else %}
                <span>{{ activity.startedAt|date('H:i:s d-m-Y') }}</span>
            {% endif %}
        </div>
    {% endfor %} #}
    <div id="activity_calendar"></div>
{% endblock %}

{% block javascripts %}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const calendarEl = document.getElementById('activity_calendar');
            const calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'listWeek',
                locale: 'fr',
                headerToolbar: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,timeGridWeek,listWeek'
                },
                events: {{ data|raw }}
            });
            calendar.render();
        });

    </script>
{% endblock %}
